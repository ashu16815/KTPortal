{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 22, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/lib/utils.ts"],"sourcesContent":["import type { RAGStatus } from '@/types'\n\n// Normalise any date to the Friday of its ISO week\nexport function normaliseWeekEnding(date: Date | string): Date {\n  const d = typeof date === 'string' ? new Date(date) : new Date(date)\n  // 0=Sun,1=Mon,...,5=Fri,6=Sat\n  const day = d.getDay()\n  const diff = day <= 5 ? 5 - day : 6 // if Saturday, go forward 6 to next Friday\n  d.setDate(d.getDate() + diff)\n  d.setHours(0, 0, 0, 0)\n  return d\n}\n\nexport function formatScore(score: number): string {\n  return `${score}/100`\n}\n\nexport function ragColor(rag: RAGStatus): string {\n  switch (rag) {\n    case 'GREEN': return '#16a34a'\n    case 'AMBER': return '#d97706'\n    case 'RED': return '#dc2626'\n  }\n}\n\nexport function ragBg(rag: RAGStatus): string {\n  switch (rag) {\n    case 'GREEN': return 'bg-green-100 text-green-800'\n    case 'AMBER': return 'bg-amber-100 text-amber-800'\n    case 'RED': return 'bg-red-100 text-red-800'\n  }\n}\n\nexport function formatDate(date: string | Date): string {\n  const d = typeof date === 'string' ? new Date(date) : date\n  return d.toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' })\n}\n\nexport function csvExport(headers: string[], rows: (string | number)[][]): string {\n  const escape = (v: string | number) => {\n    const s = String(v)\n    return s.includes(',') || s.includes('\"') || s.includes('\\n')\n      ? `\"${s.replace(/\"/g, '\"\"')}\"`\n      : s\n  }\n  const lines = [headers.map(escape).join(','), ...rows.map(r => r.map(escape).join(','))]\n  return lines.join('\\n')\n}\n\nexport function cn(...classes: (string | undefined | false | null)[]): string {\n  return classes.filter(Boolean).join(' ')\n}\n\nexport function safeParseJSON<T>(json: string | null | undefined, fallback: T): T {\n  if (!json) return fallback\n  try {\n    return JSON.parse(json) as T\n  } catch {\n    return fallback\n  }\n}\n\nexport function getCurrentWeekEnding(): Date {\n  return normaliseWeekEnding(new Date())\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;AAGO,SAAS,oBAAoB,IAAmB;IACrD,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ,IAAI,KAAK;IAC/D,8BAA8B;IAC9B,MAAM,MAAM,EAAE,MAAM;IACpB,MAAM,OAAO,OAAO,IAAI,IAAI,MAAM,EAAE,2CAA2C;;IAC/E,EAAE,OAAO,CAAC,EAAE,OAAO,KAAK;IACxB,EAAE,QAAQ,CAAC,GAAG,GAAG,GAAG;IACpB,OAAO;AACT;AAEO,SAAS,YAAY,KAAa;IACvC,OAAO,GAAG,MAAM,IAAI,CAAC;AACvB;AAEO,SAAS,SAAS,GAAc;IACrC,OAAQ;QACN,KAAK;YAAS,OAAO;QACrB,KAAK;YAAS,OAAO;QACrB,KAAK;YAAO,OAAO;IACrB;AACF;AAEO,SAAS,MAAM,GAAc;IAClC,OAAQ;QACN,KAAK;YAAS,OAAO;QACrB,KAAK;YAAS,OAAO;QACrB,KAAK;YAAO,OAAO;IACrB;AACF;AAEO,SAAS,WAAW,IAAmB;IAC5C,MAAM,IAAI,OAAO,SAAS,WAAW,IAAI,KAAK,QAAQ;IACtD,OAAO,EAAE,kBAAkB,CAAC,SAAS;QAAE,KAAK;QAAW,OAAO;QAAS,MAAM;IAAU;AACzF;AAEO,SAAS,UAAU,OAAiB,EAAE,IAA2B;IACtE,MAAM,SAAS,CAAC;QACd,MAAM,IAAI,OAAO;QACjB,OAAO,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,QAAQ,EAAE,QAAQ,CAAC,QACpD,CAAC,CAAC,EAAE,EAAE,OAAO,CAAC,MAAM,MAAM,CAAC,CAAC,GAC5B;IACN;IACA,MAAM,QAAQ;QAAC,QAAQ,GAAG,CAAC,QAAQ,IAAI,CAAC;WAAS,KAAK,GAAG,CAAC,CAAA,IAAK,EAAE,GAAG,CAAC,QAAQ,IAAI,CAAC;KAAM;IACxF,OAAO,MAAM,IAAI,CAAC;AACpB;AAEO,SAAS,GAAG,GAAG,OAA8C;IAClE,OAAO,QAAQ,MAAM,CAAC,SAAS,IAAI,CAAC;AACtC;AAEO,SAAS,cAAiB,IAA+B,EAAE,QAAW;IAC3E,IAAI,CAAC,MAAM,OAAO;IAClB,IAAI;QACF,OAAO,KAAK,KAAK,CAAC;IACpB,EAAE,OAAM;QACN,OAAO;IACT;AACF;AAEO,SAAS;IACd,OAAO,oBAAoB,IAAI;AACjC"}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/components/layout/Sidebar.tsx"],"sourcesContent":["'use client'\n\nimport Link from 'next/link'\nimport { usePathname } from 'next/navigation'\nimport type { SessionUser } from '@/types'\nimport { cn } from '@/lib/utils'\n\ninterface NavItem {\n  href: string\n  label: string\n  icon: string\n  roles?: string[]\n}\n\nconst NAV: NavItem[] = [\n  { href: '/dashboard/executive', label: 'Executive', icon: 'üìä', roles: ['ADMIN', 'EXEC'] },\n  { href: '/submissions/new', label: 'Submit Update', icon: 'üìù', roles: ['TWG_LEAD', 'TCS_LEAD', 'TWG_OWNER', 'TCS_OWNER'] },\n  { href: '/submissions/compare', label: 'Compare', icon: '‚öñÔ∏è' },\n  { href: '/actions', label: 'Actions', icon: '‚úÖ' },\n  { href: '/admin', label: 'Admin', icon: '‚öôÔ∏è', roles: ['ADMIN'] },\n]\n\ninterface Props { session: SessionUser }\n\nexport function Sidebar({ session }: Props) {\n  const pathname = usePathname()\n  const visible = NAV.filter(item => !item.roles || item.roles.includes(session.role))\n\n  return (\n    <aside className=\"w-56 bg-slate-900 text-white flex flex-col flex-shrink-0\">\n      <div className=\"p-4 border-b border-slate-700\">\n        <div className=\"font-bold text-lg\">KT Portal</div>\n        <div className=\"text-xs text-slate-400\">Project Aura</div>\n      </div>\n      <nav className=\"flex-1 p-2 space-y-1\">\n        {visible.map(item => (\n          <Link\n            key={item.href}\n            href={item.href}\n            className={cn(\n              'flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors',\n              pathname.startsWith(item.href)\n                ? 'bg-slate-700 text-white'\n                : 'text-slate-300 hover:bg-slate-800 hover:text-white'\n            )}\n          >\n            <span>{item.icon}</span>\n            {item.label}\n          </Link>\n        ))}\n        {session.towerId && (\n          <Link\n            href={`/dashboard/tower/${session.towerId}`}\n            className={cn(\n              'flex items-center gap-3 px-3 py-2 rounded-lg text-sm transition-colors',\n              pathname.includes('/dashboard/tower/')\n                ? 'bg-slate-700 text-white'\n                : 'text-slate-300 hover:bg-slate-800 hover:text-white'\n            )}\n          >\n            <span>üèóÔ∏è</span>\n            My Tower\n          </Link>\n        )}\n      </nav>\n      <div className=\"p-3 border-t border-slate-700\">\n        <div className=\"text-xs text-slate-300 truncate\">{session.name}</div>\n        <div className=\"text-xs text-slate-500\">{session.role} ¬∑ {session.org}</div>\n      </div>\n    </aside>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AAEA;AALA;;;;;AAcA,MAAM,MAAiB;IACrB;QAAE,MAAM;QAAwB,OAAO;QAAa,MAAM;QAAM,OAAO;YAAC;YAAS;SAAO;IAAC;IACzF;QAAE,MAAM;QAAoB,OAAO;QAAiB,MAAM;QAAM,OAAO;YAAC;YAAY;YAAY;YAAa;SAAY;IAAC;IAC1H;QAAE,MAAM;QAAwB,OAAO;QAAW,MAAM;IAAK;IAC7D;QAAE,MAAM;QAAY,OAAO;QAAW,MAAM;IAAI;IAChD;QAAE,MAAM;QAAU,OAAO;QAAS,MAAM;QAAM,OAAO;YAAC;SAAQ;IAAC;CAChE;AAIM,SAAS,QAAQ,EAAE,OAAO,EAAS;IACxC,MAAM,WAAW,IAAA,iJAAW;IAC5B,MAAM,UAAU,IAAI,MAAM,CAAC,CAAA,OAAQ,CAAC,KAAK,KAAK,IAAI,KAAK,KAAK,CAAC,QAAQ,CAAC,QAAQ,IAAI;IAElF,qBACE,8OAAC;QAAM,WAAU;;0BACf,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAAoB;;;;;;kCACnC,8OAAC;wBAAI,WAAU;kCAAyB;;;;;;;;;;;;0BAE1C,8OAAC;gBAAI,WAAU;;oBACZ,QAAQ,GAAG,CAAC,CAAA,qBACX,8OAAC,uKAAI;4BAEH,MAAM,KAAK,IAAI;4BACf,WAAW,IAAA,yHAAE,EACX,0EACA,SAAS,UAAU,CAAC,KAAK,IAAI,IACzB,4BACA;;8CAGN,8OAAC;8CAAM,KAAK,IAAI;;;;;;gCACf,KAAK,KAAK;;2BAVN,KAAK,IAAI;;;;;oBAajB,QAAQ,OAAO,kBACd,8OAAC,uKAAI;wBACH,MAAM,CAAC,iBAAiB,EAAE,QAAQ,OAAO,EAAE;wBAC3C,WAAW,IAAA,yHAAE,EACX,0EACA,SAAS,QAAQ,CAAC,uBACd,4BACA;;0CAGN,8OAAC;0CAAK;;;;;;4BAAU;;;;;;;;;;;;;0BAKtB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC;wBAAI,WAAU;kCAAmC,QAAQ,IAAI;;;;;;kCAC9D,8OAAC;wBAAI,WAAU;;4BAA0B,QAAQ,IAAI;4BAAC;4BAAI,QAAQ,GAAG;;;;;;;;;;;;;;;;;;;AAI7E"}},
    {"offset": {"line": 281, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/components/layout/TopBar.tsx"],"sourcesContent":["'use client'\n\nimport type { SessionUser } from '@/types'\nimport { useRouter } from 'next/navigation'\n\ninterface Props { session: SessionUser }\n\nexport function TopBar({ session }: Props) {\n  const router = useRouter()\n\n  const handleLogout = async () => {\n    await fetch('/api/auth/logout', { method: 'POST' })\n    document.cookie = 'kt_stub_session=; path=/; max-age=0'\n    router.push('/login')\n  }\n\n  return (\n    <header className=\"h-14 bg-white border-b border-gray-200 flex items-center justify-between px-6 flex-shrink-0\">\n      <div className=\"text-sm text-gray-500\">\n        Logged in as <span className=\"font-medium text-gray-900\">{session.name}</span>\n      </div>\n      <button\n        onClick={handleLogout}\n        className=\"text-sm text-gray-500 hover:text-gray-900 px-3 py-1.5 rounded border border-gray-200 hover:bg-gray-50 transition-colors\"\n      >\n        Sign out\n      </button>\n    </header>\n  )\n}\n"],"names":[],"mappings":";;;;;AAGA;AAHA;;;AAOO,SAAS,OAAO,EAAE,OAAO,EAAS;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,MAAM,eAAe;QACnB,MAAM,MAAM,oBAAoB;YAAE,QAAQ;QAAO;QACjD,SAAS,MAAM,GAAG;QAClB,OAAO,IAAI,CAAC;IACd;IAEA,qBACE,8OAAC;QAAO,WAAU;;0BAChB,8OAAC;gBAAI,WAAU;;oBAAwB;kCACxB,8OAAC;wBAAK,WAAU;kCAA6B,QAAQ,IAAI;;;;;;;;;;;;0BAExE,8OAAC;gBACC,SAAS;gBACT,WAAU;0BACX;;;;;;;;;;;;AAKP"}},
    {"offset": {"line": 340, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/hooks/useSession.ts"],"sourcesContent":["'use client'\n\nimport { useState, useEffect } from 'react'\nimport type { SessionUser } from '@/types'\n\nconst COOKIE_NAME = 'kt_stub_session'\n\nexport function useSession() {\n  const [session, setSession] = useState<SessionUser | null>(null)\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    const read = () => {\n      try {\n        const match = document.cookie.split('; ').find(c => c.startsWith(`${COOKIE_NAME}=`))\n        if (!match) { setSession(null); return }\n        const value = match.split('=')[1]\n        const decoded = atob(value)\n        setSession(JSON.parse(decoded) as SessionUser)\n      } catch {\n        setSession(null)\n      }\n    }\n    read()\n    setLoading(false)\n  }, [])\n\n  const logout = () => {\n    document.cookie = `${COOKIE_NAME}=; path=/; max-age=0`\n    setSession(null)\n    window.location.href = '/login'\n  }\n\n  return { session, loading, logout }\n}\n"],"names":[],"mappings":";;;;AAEA;AAFA;;AAKA,MAAM,cAAc;AAEb,SAAS;IACd,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAqB;IAC3D,MAAM,CAAC,SAAS,WAAW,GAAG,IAAA,iNAAQ,EAAC;IAEvC,IAAA,kNAAS,EAAC;QACR,MAAM,OAAO;YACX,IAAI;gBACF,MAAM,QAAQ,SAAS,MAAM,CAAC,KAAK,CAAC,MAAM,IAAI,CAAC,CAAA,IAAK,EAAE,UAAU,CAAC,GAAG,YAAY,CAAC,CAAC;gBAClF,IAAI,CAAC,OAAO;oBAAE,WAAW;oBAAO;gBAAO;gBACvC,MAAM,QAAQ,MAAM,KAAK,CAAC,IAAI,CAAC,EAAE;gBACjC,MAAM,UAAU,KAAK;gBACrB,WAAW,KAAK,KAAK,CAAC;YACxB,EAAE,OAAM;gBACN,WAAW;YACb;QACF;QACA;QACA,WAAW;IACb,GAAG,EAAE;IAEL,MAAM,SAAS;QACb,SAAS,MAAM,GAAG,GAAG,YAAY,oBAAoB,CAAC;QACtD,WAAW;QACX,OAAO,QAAQ,CAAC,IAAI,GAAG;IACzB;IAEA,OAAO;QAAE;QAAS;QAAS;IAAO;AACpC"}},
    {"offset": {"line": 384, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/components/layout/AppShell.tsx"],"sourcesContent":["'use client'\n\nimport { Sidebar } from './Sidebar'\nimport { TopBar } from './TopBar'\nimport { useSession } from '@/hooks/useSession'\nimport { useRouter } from 'next/navigation'\nimport { useEffect } from 'react'\n\nexport function AppShell({ children }: { children: React.ReactNode }) {\n  const { session, loading } = useSession()\n  const router = useRouter()\n\n  useEffect(() => {\n    if (!loading && !session) {\n      router.push('/login')\n    }\n  }, [session, loading, router])\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-gray-50\">\n        <div className=\"w-8 h-8 border-4 border-blue-200 border-t-blue-600 rounded-full animate-spin\" />\n      </div>\n    )\n  }\n\n  if (!session) return null\n\n  return (\n    <div className=\"flex h-screen overflow-hidden bg-gray-50\">\n      <Sidebar session={session} />\n      <div className=\"flex flex-col flex-1 overflow-hidden\">\n        <TopBar session={session} />\n        <main className=\"flex-1 overflow-y-auto p-6\">\n          {children}\n        </main>\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AANA;;;;;;;AAQO,SAAS,SAAS,EAAE,QAAQ,EAAiC;IAClE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,GAAG,IAAA,wIAAU;IACvC,MAAM,SAAS,IAAA,+IAAS;IAExB,IAAA,kNAAS,EAAC;QACR,IAAI,CAAC,WAAW,CAAC,SAAS;YACxB,OAAO,IAAI,CAAC;QACd;IACF,GAAG;QAAC;QAAS;QAAS;KAAO;IAE7B,IAAI,SAAS;QACX,qBACE,8OAAC;YAAI,WAAU;sBACb,cAAA,8OAAC;gBAAI,WAAU;;;;;;;;;;;IAGrB;IAEA,IAAI,CAAC,SAAS,OAAO;IAErB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC,kJAAO;gBAAC,SAAS;;;;;;0BAClB,8OAAC;gBAAI,WAAU;;kCACb,8OAAC,gJAAM;wBAAC,SAAS;;;;;;kCACjB,8OAAC;wBAAK,WAAU;kCACb;;;;;;;;;;;;;;;;;;AAKX"}},
    {"offset": {"line": 475, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/components/ui/Card.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\n\ninterface CardProps {\n  children: React.ReactNode\n  className?: string\n  padding?: boolean\n  style?: React.CSSProperties\n}\n\nexport function Card({ children, className, padding = true, style }: CardProps) {\n  return (\n    <div className={cn('bg-white rounded-lg border border-gray-200 shadow-sm', padding && 'p-5', className)} style={style}>\n      {children}\n    </div>\n  )\n}\n\nexport function CardHeader({ children, className }: { children: React.ReactNode; className?: string }) {\n  return <div className={cn('mb-4', className)}>{children}</div>\n}\n\nexport function CardTitle({ children, className }: { children: React.ReactNode; className?: string }) {\n  return <h3 className={cn('text-base font-semibold text-gray-900', className)}>{children}</h3>\n}\n"],"names":[],"mappings":";;;;;;;;;AAAA;;;AASO,SAAS,KAAK,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,IAAI,EAAE,KAAK,EAAa;IAC5E,qBACE,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,wDAAwD,WAAW,OAAO;QAAY,OAAO;kBAC7G;;;;;;AAGP;AAEO,SAAS,WAAW,EAAE,QAAQ,EAAE,SAAS,EAAqD;IACnG,qBAAO,8OAAC;QAAI,WAAW,IAAA,yHAAE,EAAC,QAAQ;kBAAa;;;;;;AACjD;AAEO,SAAS,UAAU,EAAE,QAAQ,EAAE,SAAS,EAAqD;IAClG,qBAAO,8OAAC;QAAG,WAAW,IAAA,yHAAE,EAAC,yCAAyC;kBAAa;;;;;;AACjF"}},
    {"offset": {"line": 522, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/components/ui/Button.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\n\ninterface ButtonProps extends React.ButtonHTMLAttributes<HTMLButtonElement> {\n  variant?: 'primary' | 'secondary' | 'danger' | 'ghost'\n  size?: 'sm' | 'md' | 'lg'\n  loading?: boolean\n}\n\nexport function Button({ variant = 'primary', size = 'md', loading, children, className, disabled, ...props }: ButtonProps) {\n  const base = 'inline-flex items-center justify-center font-medium rounded-lg transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed'\n  const variants = {\n    primary: 'bg-blue-600 text-white hover:bg-blue-700 focus:ring-blue-500',\n    secondary: 'bg-white text-gray-700 border border-gray-300 hover:bg-gray-50 focus:ring-gray-300',\n    danger: 'bg-red-600 text-white hover:bg-red-700 focus:ring-red-500',\n    ghost: 'text-gray-600 hover:bg-gray-100 focus:ring-gray-300',\n  }\n  const sizes = {\n    sm: 'px-3 py-1.5 text-sm',\n    md: 'px-4 py-2 text-sm',\n    lg: 'px-5 py-2.5 text-base',\n  }\n  return (\n    <button className={cn(base, variants[variant], sizes[size], className)} disabled={disabled || loading} {...props}>\n      {loading && <svg className=\"animate-spin -ml-1 mr-2 h-4 w-4\" fill=\"none\" viewBox=\"0 0 24 24\"><circle className=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" strokeWidth=\"4\" /><path className=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z\" /></svg>}\n      {children}\n    </button>\n  )\n}\n"],"names":[],"mappings":";;;;;AAAA;;;AAQO,SAAS,OAAO,EAAE,UAAU,SAAS,EAAE,OAAO,IAAI,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAoB;IACxH,MAAM,OAAO;IACb,MAAM,WAAW;QACf,SAAS;QACT,WAAW;QACX,QAAQ;QACR,OAAO;IACT;IACA,MAAM,QAAQ;QACZ,IAAI;QACJ,IAAI;QACJ,IAAI;IACN;IACA,qBACE,8OAAC;QAAO,WAAW,IAAA,yHAAE,EAAC,MAAM,QAAQ,CAAC,QAAQ,EAAE,KAAK,CAAC,KAAK,EAAE;QAAY,UAAU,YAAY;QAAU,GAAG,KAAK;;YAC7G,yBAAW,8OAAC;gBAAI,WAAU;gBAAkC,MAAK;gBAAO,SAAQ;;kCAAY,8OAAC;wBAAO,WAAU;wBAAa,IAAG;wBAAK,IAAG;wBAAK,GAAE;wBAAK,QAAO;wBAAe,aAAY;;;;;;kCAAM,8OAAC;wBAAK,WAAU;wBAAa,MAAK;wBAAe,GAAE;;;;;;;;;;;;YAC7O;;;;;;;AAGP"}},
    {"offset": {"line": 592, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/components/ui/Textarea.tsx"],"sourcesContent":["import { cn } from '@/lib/utils'\nimport { forwardRef } from 'react'\n\ninterface TextareaProps extends React.TextareaHTMLAttributes<HTMLTextAreaElement> {\n  label?: string\n  error?: string\n}\n\nexport const Textarea = forwardRef<HTMLTextAreaElement, TextareaProps>(\n  ({ label, error, className, ...props }, ref) => (\n    <div className=\"space-y-1\">\n      {label && <label className=\"block text-sm font-medium text-gray-700\">{label}</label>}\n      <textarea\n        ref={ref}\n        rows={3}\n        className={cn(\n          'block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500',\n          error && 'border-red-500',\n          className\n        )}\n        {...props}\n      />\n      {error && <p className=\"text-xs text-red-600\">{error}</p>}\n    </div>\n  )\n)\nTextarea.displayName = 'Textarea'\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAOO,MAAM,yBAAW,IAAA,mNAAU,EAChC,CAAC,EAAE,KAAK,EAAE,KAAK,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtC,8OAAC;QAAI,WAAU;;YACZ,uBAAS,8OAAC;gBAAM,WAAU;0BAA2C;;;;;;0BACtE,8OAAC;gBACC,KAAK;gBACL,MAAM;gBACN,WAAW,IAAA,yHAAE,EACX,wHACA,SAAS,kBACT;gBAED,GAAG,KAAK;;;;;;YAEV,uBAAS,8OAAC;gBAAE,WAAU;0BAAwB;;;;;;;;;;;;AAIrD,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 642, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/hooks/queryKeys.ts"],"sourcesContent":["export const queryKeys = {\n  towers: () => ['towers'] as const,\n  tower: (id: string) => ['towers', id] as const,\n  tracks: (towerId: string) => ['tracks', towerId] as const,\n  users: () => ['users'] as const,\n  submissions: (params?: Record<string, string>) => ['submissions', params] as const,\n  submission: (id: string) => ['submissions', id] as const,\n  compare: (towerId: string, weekEnding: string) => ['compare', towerId, weekEnding] as const,\n  actions: (params?: Record<string, string>) => ['actions', params] as const,\n  action: (id: string) => ['actions', id] as const,\n  execDashboard: (weekEnding?: string) => ['dashboard', 'exec', weekEnding] as const,\n  towerDashboard: (towerId: string, weekEnding?: string) => ['dashboard', 'tower', towerId, weekEnding] as const,\n  weights: () => ['weights'] as const,\n  audit: (page?: number) => ['audit', page] as const,\n  pulse: (submissionId?: string) => ['pulse', submissionId] as const,\n}\n"],"names":[],"mappings":";;;;AAAO,MAAM,YAAY;IACvB,QAAQ,IAAM;YAAC;SAAS;IACxB,OAAO,CAAC,KAAe;YAAC;YAAU;SAAG;IACrC,QAAQ,CAAC,UAAoB;YAAC;YAAU;SAAQ;IAChD,OAAO,IAAM;YAAC;SAAQ;IACtB,aAAa,CAAC,SAAoC;YAAC;YAAe;SAAO;IACzE,YAAY,CAAC,KAAe;YAAC;YAAe;SAAG;IAC/C,SAAS,CAAC,SAAiB,aAAuB;YAAC;YAAW;YAAS;SAAW;IAClF,SAAS,CAAC,SAAoC;YAAC;YAAW;SAAO;IACjE,QAAQ,CAAC,KAAe;YAAC;YAAW;SAAG;IACvC,eAAe,CAAC,aAAwB;YAAC;YAAa;YAAQ;SAAW;IACzE,gBAAgB,CAAC,SAAiB,aAAwB;YAAC;YAAa;YAAS;YAAS;SAAW;IACrG,SAAS,IAAM;YAAC;SAAU;IAC1B,OAAO,CAAC,OAAkB;YAAC;YAAS;SAAK;IACzC,OAAO,CAAC,eAA0B;YAAC;YAAS;SAAa;AAC3D"}},
    {"offset": {"line": 709, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/lib/scoring.ts"],"sourcesContent":["import type { ScoreInput, ScoreResult, RAGStatus, ScoringWeightsDTO } from '@/types'\n\nexport const DEFAULT_WEIGHTS: Omit<ScoringWeightsDTO, 'id'> = {\n  progressWeight: 0.25,\n  coverageWeight: 0.25,\n  confidenceWeight: 0.20,\n  operationalWeight: 0.15,\n  qualityWeight: 0.15,\n  greenThreshold: 75,\n  amberThreshold: 50,\n  varianceThreshold: 20,\n}\n\nexport function calculateScore(input: ScoreInput, weights: Omit<ScoringWeightsDTO, 'id'> = DEFAULT_WEIGHTS): ScoreResult {\n  const raw =\n    input.progressScore * weights.progressWeight +\n    input.coverageScore * weights.coverageWeight +\n    input.confidenceScore * weights.confidenceWeight +\n    input.operationalScore * weights.operationalWeight +\n    input.qualityScore * weights.qualityWeight\n\n  const totalScore = Math.min(100, Math.max(0, Math.round(raw)))\n  const ragStatus = determineRAG(totalScore, input.hasActiveBlocker, weights)\n\n  return { totalScore, ragStatus }\n}\n\nexport function determineRAG(\n  score: number,\n  hasActiveBlocker: boolean,\n  weights: Omit<ScoringWeightsDTO, 'id'> = DEFAULT_WEIGHTS\n): RAGStatus {\n  if (hasActiveBlocker) return 'RED'\n  if (score >= weights.greenThreshold) return 'GREEN'\n  if (score >= weights.amberThreshold) return 'AMBER'\n  return 'RED'\n}\n\nexport function calculateVariance(twgTotal: number, tcsTotal: number): number {\n  return Math.abs(twgTotal - tcsTotal)\n}\n\nexport function isVarianceFlagged(variance: number, threshold: number = DEFAULT_WEIGHTS.varianceThreshold): boolean {\n  return variance > threshold\n}\n"],"names":[],"mappings":";;;;;;;;;;;;AAEO,MAAM,kBAAiD;IAC5D,gBAAgB;IAChB,gBAAgB;IAChB,kBAAkB;IAClB,mBAAmB;IACnB,eAAe;IACf,gBAAgB;IAChB,gBAAgB;IAChB,mBAAmB;AACrB;AAEO,SAAS,eAAe,KAAiB,EAAE,UAAyC,eAAe;IACxG,MAAM,MACJ,MAAM,aAAa,GAAG,QAAQ,cAAc,GAC5C,MAAM,aAAa,GAAG,QAAQ,cAAc,GAC5C,MAAM,eAAe,GAAG,QAAQ,gBAAgB,GAChD,MAAM,gBAAgB,GAAG,QAAQ,iBAAiB,GAClD,MAAM,YAAY,GAAG,QAAQ,aAAa;IAE5C,MAAM,aAAa,KAAK,GAAG,CAAC,KAAK,KAAK,GAAG,CAAC,GAAG,KAAK,KAAK,CAAC;IACxD,MAAM,YAAY,aAAa,YAAY,MAAM,gBAAgB,EAAE;IAEnE,OAAO;QAAE;QAAY;IAAU;AACjC;AAEO,SAAS,aACd,KAAa,EACb,gBAAyB,EACzB,UAAyC,eAAe;IAExD,IAAI,kBAAkB,OAAO;IAC7B,IAAI,SAAS,QAAQ,cAAc,EAAE,OAAO;IAC5C,IAAI,SAAS,QAAQ,cAAc,EAAE,OAAO;IAC5C,OAAO;AACT;AAEO,SAAS,kBAAkB,QAAgB,EAAE,QAAgB;IAClE,OAAO,KAAK,GAAG,CAAC,WAAW;AAC7B;AAEO,SAAS,kBAAkB,QAAgB,EAAE,YAAoB,gBAAgB,iBAAiB;IACvG,OAAO,WAAW;AACpB"}},
    {"offset": {"line": 756, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/components/ui/Badge.tsx"],"sourcesContent":["import { cn, ragBg } from '@/lib/utils'\nimport type { RAGStatus } from '@/types'\n\ninterface BadgeProps {\n  children: React.ReactNode\n  variant?: 'default' | 'rag' | 'success' | 'warning' | 'danger' | 'info'\n  rag?: RAGStatus\n  className?: string\n}\n\nexport function Badge({ children, variant = 'default', rag, className }: BadgeProps) {\n  const base = 'inline-flex items-center px-2 py-0.5 rounded text-xs font-medium'\n  const variants = {\n    default: 'bg-gray-100 text-gray-700',\n    success: 'bg-green-100 text-green-800',\n    warning: 'bg-amber-100 text-amber-800',\n    danger: 'bg-red-100 text-red-800',\n    info: 'bg-blue-100 text-blue-800',\n    rag: rag ? ragBg(rag) : 'bg-gray-100 text-gray-700',\n  }\n  return (\n    <span className={cn(base, variants[variant], className)}>\n      {children}\n    </span>\n  )\n}\n\nexport function RAGBadge({ rag }: { rag: RAGStatus }) {\n  return <Badge variant=\"rag\" rag={rag}>{rag}</Badge>\n}\n"],"names":[],"mappings":";;;;;;;AAAA;;;AAUO,SAAS,MAAM,EAAE,QAAQ,EAAE,UAAU,SAAS,EAAE,GAAG,EAAE,SAAS,EAAc;IACjF,MAAM,OAAO;IACb,MAAM,WAAW;QACf,SAAS;QACT,SAAS;QACT,SAAS;QACT,QAAQ;QACR,MAAM;QACN,KAAK,MAAM,IAAA,4HAAK,EAAC,OAAO;IAC1B;IACA,qBACE,8OAAC;QAAK,WAAW,IAAA,yHAAE,EAAC,MAAM,QAAQ,CAAC,QAAQ,EAAE;kBAC1C;;;;;;AAGP;AAEO,SAAS,SAAS,EAAE,GAAG,EAAsB;IAClD,qBAAO,8OAAC;QAAM,SAAQ;QAAM,KAAK;kBAAM;;;;;;AACzC"}},
    {"offset": {"line": 800, "column": 0}, "map": {"version":3,"sources":["file:///Users/323905/Documents/VibeCoding/KTPortal/src/app/submissions/new/page.tsx"],"sourcesContent":["'use client'\n\nimport { useState } from 'react'\nimport { useForm, type Resolver } from 'react-hook-form'\nimport { zodResolver } from '@hookform/resolvers/zod'\nimport { z } from 'zod'\nimport { useQuery, useMutation, useQueryClient } from '@tanstack/react-query'\nimport { useRouter, useSearchParams } from 'next/navigation'\nimport { AppShell } from '@/components/layout/AppShell'\nimport { Card, CardHeader, CardTitle } from '@/components/ui/Card'\nimport { Button } from '@/components/ui/Button'\nimport { Textarea } from '@/components/ui/Textarea'\nimport { useSession } from '@/hooks/useSession'\nimport { queryKeys } from '@/hooks/queryKeys'\nimport { calculateScore } from '@/lib/scoring'\nimport { RAGBadge } from '@/components/ui/Badge'\nimport type { TowerDTO } from '@/types'\nimport { getCurrentWeekEnding, formatDate } from '@/lib/utils'\nimport { Suspense } from 'react'\n\nconst schema = z.object({\n  towerId: z.string().min(1, 'Tower required'),\n  progressScore: z.coerce.number().min(0).max(100),\n  coverageScore: z.coerce.number().min(0).max(100),\n  confidenceScore: z.coerce.number().min(0).max(100),\n  operationalScore: z.coerce.number().min(0).max(100),\n  qualityScore: z.coerce.number().min(0).max(100),\n  hasActiveBlocker: z.boolean(),\n  narrative: z.string().optional(),\n  risks: z.string().optional(),\n  blockers: z.string().optional(),\n  evidenceLinks: z.string().optional(),\n})\n\ntype FormData = {\n  towerId: string\n  progressScore: number\n  coverageScore: number\n  confidenceScore: number\n  operationalScore: number\n  qualityScore: number\n  hasActiveBlocker: boolean\n  narrative?: string\n  risks?: string\n  blockers?: string\n  evidenceLinks?: string\n}\n\nfunction ScoreSlider({ label, value, onChange, weight }: {\n  label: string; value: number; onChange: (v: number) => void; weight: number\n}) {\n  const color = value >= 75 ? 'bg-green-500' : value >= 50 ? 'bg-amber-500' : 'bg-red-500'\n  return (\n    <div className=\"space-y-2\">\n      <div className=\"flex items-center justify-between text-sm\">\n        <label className=\"font-medium text-gray-700\">{label}</label>\n        <div className=\"flex items-center gap-3\">\n          <span className=\"text-xs text-gray-400\">weight {(weight * 100).toFixed(0)}%</span>\n          <span className={`font-bold text-white text-sm w-10 text-center py-0.5 rounded ${color}`}>{value}</span>\n        </div>\n      </div>\n      <input\n        type=\"range\" min={0} max={100} step={5} value={value}\n        onChange={e => onChange(parseInt(e.target.value))}\n        className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\n        style={{ accentColor: value >= 75 ? '#16a34a' : value >= 50 ? '#d97706' : '#dc2626' }}\n      />\n      <div className=\"flex justify-between text-xs text-gray-300\">\n        <span>0</span><span>25</span><span>50</span><span>75</span><span>100</span>\n      </div>\n    </div>\n  )\n}\n\nfunction NewSubmissionForm() {\n  const { session } = useSession()\n  const router = useRouter()\n  const searchParams = useSearchParams()\n  const queryClient = useQueryClient()\n  const defaultTowerId = searchParams.get('towerId') ?? ''\n\n  const [scores, setScores] = useState({\n    progressScore: 70, coverageScore: 70, confidenceScore: 70,\n    operationalScore: 70, qualityScore: 70,\n  })\n  const [hasActiveBlocker, setHasActiveBlocker] = useState(false)\n  const [submitted, setSubmitted] = useState(false)\n  const [aiSummary, setAiSummary] = useState('')\n\n  const { register, handleSubmit, formState: { errors }, setValue, watch } = useForm<FormData>({\n    resolver: zodResolver(schema) as Resolver<FormData>,\n    defaultValues: { towerId: defaultTowerId, ...scores, hasActiveBlocker: false },\n  })\n\n  const { data: towersData } = useQuery<{ data: TowerDTO[] }>({\n    queryKey: queryKeys.towers(),\n    queryFn: async () => { const r = await fetch('/api/towers'); return r.json() },\n  })\n\n  const liveScore = calculateScore({\n    ...scores,\n    hasActiveBlocker,\n  })\n\n  const SCORE_FIELDS = [\n    { key: 'progressScore' as const, label: 'Progress', weight: 0.25 },\n    { key: 'coverageScore' as const, label: 'Coverage', weight: 0.25 },\n    { key: 'confidenceScore' as const, label: 'Confidence', weight: 0.20 },\n    { key: 'operationalScore' as const, label: 'Operational', weight: 0.15 },\n    { key: 'qualityScore' as const, label: 'Quality', weight: 0.15 },\n  ]\n\n  const { mutate: submit, isPending } = useMutation({\n    mutationFn: async (data: FormData) => {\n      const res = await fetch('/api/submissions', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          ...data,\n          weekEnding: getCurrentWeekEnding().toISOString(),\n          risks: data.risks ? data.risks.split('\\n').filter(Boolean) : [],\n          blockers: data.blockers ? data.blockers.split('\\n').filter(Boolean) : [],\n          evidenceLinks: data.evidenceLinks ? data.evidenceLinks.split('\\n').filter(Boolean) : [],\n        }),\n      })\n      if (!res.ok) throw new Error('Submission failed')\n      return res.json()\n    },\n    onSuccess: (result) => {\n      if (result.data?.aiSummary) setAiSummary(result.data.aiSummary)\n      setSubmitted(true)\n      queryClient.invalidateQueries({ queryKey: queryKeys.execDashboard() })\n      const towerId = watch('towerId')\n      if (towerId) queryClient.invalidateQueries({ queryKey: queryKeys.towerDashboard(towerId) })\n    },\n  })\n\n  const weekEnding = getCurrentWeekEnding()\n\n  if (submitted) {\n    const towerId = watch('towerId')\n    return (\n      <Card className=\"text-center py-10\">\n        <div className=\"text-5xl mb-4\">‚úÖ</div>\n        <h2 className=\"text-xl font-bold text-gray-900 mb-2\">Submission Complete</h2>\n        <p className=\"text-gray-500 mb-2\">Health score: <span className=\"font-bold\">{liveScore.totalScore}/100</span></p>\n        <RAGBadge rag={liveScore.ragStatus} />\n        {aiSummary && (\n          <div className=\"mt-5 text-left p-4 bg-blue-50 rounded-lg border border-blue-100 max-w-md mx-auto\">\n            <div className=\"text-xs font-medium text-blue-700 mb-1\">AI Summary (Draft)</div>\n            <p className=\"text-sm text-blue-800\">{aiSummary}</p>\n          </div>\n        )}\n        <div className=\"mt-6 flex gap-3 justify-center\">\n          {towerId && (\n            <Button onClick={() => router.push(`/dashboard/tower/${towerId}`)}>\n              View Tower Dashboard\n            </Button>\n          )}\n          <Button variant=\"secondary\" onClick={() => router.push('/dashboard/executive')}>Executive View</Button>\n        </div>\n      </Card>\n    )\n  }\n\n  return (\n    <form onSubmit={handleSubmit(d => submit(d))} className=\"space-y-5\">\n      {/* Tower */}\n      <Card>\n        <CardHeader><CardTitle>Tower</CardTitle></CardHeader>\n        <select\n          {...register('towerId')}\n          className=\"block w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white\"\n        >\n          <option value=\"\">Select a tower...</option>\n          {(towersData?.data ?? []).map((t: TowerDTO) => (\n            <option key={t.id} value={t.id}>{t.name}</option>\n          ))}\n        </select>\n        {errors.towerId && <p className=\"text-xs text-red-600 mt-1\">{errors.towerId.message}</p>}\n        {session && (\n          <p className=\"text-xs text-gray-400 mt-2\">Submitting as: {session.name} ({session.org})</p>\n        )}\n      </Card>\n\n      {/* Score preview */}\n      <Card\n        style={{\n          borderColor: liveScore.ragStatus === 'GREEN' ? '#16a34a' : liveScore.ragStatus === 'AMBER' ? '#d97706' : '#dc2626',\n          borderWidth: '2px',\n        }}\n      >\n        <div className=\"flex items-center justify-between mb-6\">\n          <CardTitle>Health Index ‚Äî Live Preview</CardTitle>\n          <div className=\"flex items-center gap-3\">\n            <span className=\"text-3xl font-bold text-gray-900\">{liveScore.totalScore}</span>\n            <RAGBadge rag={liveScore.ragStatus} />\n          </div>\n        </div>\n\n        <div className=\"space-y-5\">\n          {SCORE_FIELDS.map(({ key, label, weight }) => (\n            <ScoreSlider\n              key={key}\n              label={label}\n              weight={weight}\n              value={scores[key]}\n              onChange={v => {\n                setScores(prev => ({ ...prev, [key]: v }))\n                setValue(key, v)\n              }}\n            />\n          ))}\n        </div>\n\n        <div className=\"mt-5 flex items-center gap-3 p-3 bg-red-50 rounded-lg border border-red-100\">\n          <input\n            type=\"checkbox\"\n            id=\"blocker\"\n            checked={hasActiveBlocker}\n            onChange={e => { setHasActiveBlocker(e.target.checked); setValue('hasActiveBlocker', e.target.checked) }}\n            className=\"rounded border-red-300 accent-red-600\"\n          />\n          <label htmlFor=\"blocker\" className=\"text-sm font-medium text-red-700 cursor-pointer\">\n            Active blocker exists (forces RED regardless of score)\n          </label>\n        </div>\n      </Card>\n\n      {/* Narrative */}\n      <Card>\n        <CardHeader><CardTitle>Narrative & Context</CardTitle></CardHeader>\n        <div className=\"space-y-4\">\n          <Textarea label=\"Overall Narrative\" {...register('narrative')} rows={4} placeholder=\"Describe the current KT status, progress, and key activities...\" />\n          <Textarea label=\"Risks (one per line)\" {...register('risks')} rows={3} placeholder=\"Identified risk 1&#10;Identified risk 2\" />\n          <Textarea label=\"Active Blockers (one per line)\" {...register('blockers')} rows={2} placeholder=\"Blocker description&#10;...\" />\n          <Textarea label=\"Evidence Links (one per line)\" {...register('evidenceLinks')} rows={2} placeholder=\"https://confluence.example.com/...&#10;https://...\" />\n        </div>\n      </Card>\n\n      <div className=\"flex justify-end gap-3\">\n        <Button type=\"button\" variant=\"secondary\" onClick={() => router.back()}>Cancel</Button>\n        <Button type=\"submit\" loading={isPending}>Submit Weekly Update</Button>\n      </div>\n    </form>\n  )\n}\n\nexport default function NewSubmissionPage() {\n  const weekEnding = getCurrentWeekEnding()\n  return (\n    <AppShell>\n      <div className=\"max-w-3xl mx-auto\">\n        <div className=\"mb-6\">\n          <h1 className=\"text-2xl font-bold text-gray-900\">Weekly KT Submission</h1>\n          <p className=\"text-sm text-gray-500 mt-1\">Week ending {formatDate(weekEnding)}</p>\n        </div>\n        <Suspense fallback={<div className=\"text-gray-400\">Loading form...</div>}>\n          <NewSubmissionForm />\n        </Suspense>\n      </div>\n    </AppShell>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}